{% extends 'includes/layout.html' %}
{% load i18n permissions products users %}
{% block conteudo %}

<div class="container-fluid">
      <div class="row">
        <div class="col-md-3 sidebar">

        </div>
        {% if user|has_product_perm:'view_products' and product %}
        <div class="col-md-6 main">
          <h1 class="page-header"><i class="fa fa-archive"></i> {{ product.name }}</h1>
          <div class="form-horizontal">
                <div class="form-group">
                    <label class="control-label col-xs-3">{% trans "ID" %}:</label>
                    <div class="col-xs-9">
                        <p>{{ product.id }}</p>
                    </div>
                </div>
              <div class="form-group">
                    <label class="control-label col-xs-3">{% trans "Nome" %}:</label>
                    <div class="col-xs-9">
                        <p>{{ product.name }}</p>
                    </div>
                </div>
              <div class="form-group">
                    <label class="control-label col-xs-3">{% trans "Descrição" %}:</label>
                    <div class="col-xs-9">
                        <p>{{ product.description }}</p>
                    </div>
                </div>
              <div class="form-group">
                    <label class="control-label col-xs-3">{% trans "Quantidade" %}:</label>
                    <div class="col-xs-9">
                        <p>{{ product.quantity }}</p>
                    </div>
                </div>
              {% if user|has_user_perm:'view_users' %}
                <div class="form-group">
                    <label class="control-label col-xs-3">{% trans "Usuário" %}:</label>
                    <div class="col-xs-9">
                        <p>{{ product.user.first_name }}</p>
                    </div>
                </div>
              {% endif %}
                <div class="form-group">
                    <label class="control-label col-xs-3">{% trans "Status" %}:</label>
                    <div class="col-xs-9">
                        <p>{{ product.get_status_display }}</p>
                    </div>
                </div>
              <div class="form-group">
                    <label class="control-label col-xs-3">{% trans "Rastreamento" %}:</label>
                    <div class="col-xs-9">
                        {% for tracking in product_tracking %}
                        <p>{{ tracking.track_number }}</p>
                        {% endfor %}
                    </div>
                </div>
              {% if user|has_product_perm:'change_product' %}
              <a href="cadastro_produto.html" class="btn btn-primary"><i class="fa fa-fw fa-pencil"></i> {% trans "Editar" %}</a>
              {% endif %}
              {% if user|has_product_perm:'delete_product' %}
              <a href="#" class="btn btn-danger send-btn-delete"><i class="fa fa-fw fa-trash"></i> {% trans "Excluir" %}</a>
              {% endif %}
              <br><br>
              <a href="javascript:history.back()"><i class="fa fa-fw fa-long-arrow-left"></i> Voltar</a><br><br><br>
            </div>
        </div>
        {% endif %}
        <div class="col-md-3 sidebar">
        </div>
      </div>
    </div>
    <form action="{% url 'product_delete' %}" method="post" class="form-delete-product" id="form-delete-product">
    {% csrf_token %}
        <input type="hidden" name="pid" value="{{ product.id }}">
    <div id="confirmacao-exclusao" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">{% trans "Excluir" %}</h4>
                </div>
                <div class="modal-body">
                    <p>{% trans "Confirma a exclusão do produto?" %}</p>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-danger">{% trans "Sim" %}</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">{% trans "Fechar" %}</button>
                </div>
            </div>
        </div>
    </div>
    </form>
{% endblock %}